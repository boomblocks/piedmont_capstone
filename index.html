<!DOCTYPE html>
<html>
	<head>
		<!--<script type="module" src="./js/nodejs/node_modules/npm/index.js"></script>-->
		<script src="./js/index.js"></script>
		<script src="./js/audio_handling.js"></script>
		<link href="./css/fresh.css" rel="stylesheet">
	</head>
	<body>
		<div class="header">
			<button id=test onclick="Test();">Test</button>
			<button id=test onclick="lava();">Lava!</button>
			<button id='play' onclick="Play();">Play Sound</button>
			<p id= >header</p>
		</div>
		<div id="toybox">
		</div>
		<script>
			function lava(){
				if (!(TestClicked)){
					TestClicked = true;
					lava_act();
				} else {
					TestClicked = false;
					for (c in all_buttons){
						all_buttons[c].style.backgroundColor = button_history.get(all_buttons[c])['color'];
					}
				}
			}
			function lava_act() {
				for (c in all_buttons){
					console.log(all_buttons[c]);
					if (!(all_buttons[c] === null)){
						//let channel = button_history.get(all_buttons[c])['channel']
						all_buttons[c].style.backgroundColor = 'red';
						//button_history.set(all_buttons[c], {color: 'red', channel: channel});
					}
				}
			}
			function Play(button){
				console.log(button_history.get(button)['quiet_bool']);
				if (!(button_history.get(button)['quiet_bool'])){
					let sound = new Audio(soundfile[increment]);
					sound.play();
					console.log(soundfile[increment]);
					increment++;
					if (increment >= soundfile.length){
						increment = 0;
					}
				}
			}
		</script>
	</body>
</html>